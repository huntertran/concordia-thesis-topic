<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="471px" preserveAspectRatio="none" style="width:661px;height:471px;" version="1.1" viewBox="0 0 661 471" width="661px" zoomAndPan="magnify"><defs><filter height="300%" id="fdmy2ovt4f7xs" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[7058f338f099d236033fc5161613b206]
cluster Api--><polygon fill="#FFFFFF" filter="url(#fdmy2ovt4f7xs)" points="163.5,108,191.5,108,198.5,131.6094,644.5,131.6094,644.5,464,163.5,464,163.5,108" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="163.5" x2="198.5" y1="131.6094" y2="131.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="22" x="167.5" y="124.5332">Api</text><!--MD5=[9a32cd3984fdd08205638aa42968fc5c]
cluster v1--><polygon fill="#FFFFFF" filter="url(#fdmy2ovt4f7xs)" points="491.5,163,514.5,163,521.5,186.6094,620.5,186.6094,620.5,440,491.5,440,491.5,163" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="491.5" x2="521.5" y1="186.6094" y2="186.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="17" x="495.5" y="179.5332">v1</text><!--MD5=[8f568eda7f993736a9f8e47c0c4df829]
cluster v2--><polygon fill="#FFFFFF" filter="url(#fdmy2ovt4f7xs)" points="187.5,152,210.5,152,217.5,175.6094,345.5,175.6094,345.5,440,187.5,440,187.5,152" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="187.5" x2="217.5" y1="175.6094" y2="175.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="17" x="191.5" y="168.5332">v2</text><!--MD5=[d01ad76c199fe17d587d1aee33ac10b8]
class CommonLogic--><rect codeLine="9" fill="#FEFECE" filter="url(#fdmy2ovt4f7xs)" height="32" id="CommonLogic" style="stroke:#A80036;stroke-width:1.5;" width="114" x="361.5" y="374"/><ellipse cx="376.5" cy="390" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M378.6875,391.7656 L374.5469,391.7656 L374.125,392.7969 L374.5469,392.7969 Q375.1563,392.7969 375.4219,393.0313 Q375.6875,393.2656 375.6875,393.6563 Q375.6875,394.0313 375.4219,394.2656 Q375.1563,394.5 374.5469,394.5 L372.25,394.5 Q371.6406,394.5 371.3906,394.2656 Q371.125,394.0313 371.125,393.6406 Q371.125,393.2656 371.4063,393.0313 Q371.6719,392.7813 372.2969,392.7969 L374.9688,386.1406 L373.8594,386.1406 Q373.25,386.1406 372.9844,385.9063 Q372.7188,385.6719 372.7188,385.2813 Q372.7188,384.9063 372.9844,384.6719 Q373.25,384.4375 373.8594,384.4375 L377.5313,384.4375 L380.9219,392.7969 Q381.5156,392.7969 381.7031,392.9375 Q382.0938,393.2031 382.0938,393.6563 Q382.0938,394.0313 381.8281,394.2656 Q381.5781,394.5 380.9688,394.5 L378.6719,394.5 Q378.0625,394.5 377.7969,394.2656 Q377.5313,394.0313 377.5313,393.6406 Q377.5313,393.2656 377.7969,393.0313 Q378.0625,392.7969 378.6719,392.7969 L379.0938,392.7969 L378.6875,391.7656 Z M377.9688,390.0625 L376.6094,386.6875 L375.2344,390.0625 L377.9688,390.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="82" x="390.5" y="394.9102">CommonLogic</text><!--MD5=[9319f6a29b119d01e1f5b6d1a6e1c87d]
class IV1Logic--><rect codeLine="12" fill="#FEFECE" filter="url(#fdmy2ovt4f7xs)" height="67.6719" id="IV1Logic" style="stroke:#A80036;stroke-width:1.5;" width="81" x="511" y="356"/><ellipse cx="526" cy="372" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M526.9531,368.6406 L526.9531,375.2969 L528.6719,375.2969 Q529.2813,375.2969 529.5469,375.5313 Q529.8125,375.7656 529.8125,376.1563 Q529.8125,376.5313 529.5469,376.7656 Q529.2813,377 528.6719,377 L523.5313,377 Q522.9219,377 522.6563,376.7656 Q522.3906,376.5313 522.3906,376.1406 Q522.3906,375.7656 522.6563,375.5313 Q522.9219,375.2969 523.5313,375.2969 L525.25,375.2969 L525.25,368.6406 L523.5313,368.6406 Q522.9219,368.6406 522.6563,368.4063 Q522.3906,368.1719 522.3906,367.7813 Q522.3906,367.4063 522.6563,367.1719 Q522.9219,366.9375 523.5313,366.9375 L528.6719,366.9375 Q529.2813,366.9375 529.5469,367.1719 Q529.8125,367.4063 529.8125,367.7813 Q529.8125,368.1719 529.5469,368.4063 Q529.2813,368.6406 528.6719,368.6406 L526.9531,368.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49" x="540" y="376.9102">IV1Logic</text><line style="stroke:#A80036;stroke-width:1.5;" x1="512" x2="591" y1="388" y2="388"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="45" x="517" y="403.4189">actionA()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="517" y="417.2549">actionB()</text><!--MD5=[79864ccd20def053537427cdd976eaa6]
class V1Logic--><rect codeLine="16" fill="#FEFECE" filter="url(#fdmy2ovt4f7xs)" height="67.6719" id="V1Logic" style="stroke:#A80036;stroke-width:1.5;" width="76" x="507.5" y="199"/><ellipse cx="522.5" cy="215" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M525.2656,210.875 Q525.4219,210.6563 525.6094,210.5469 Q525.7969,210.4375 526.0156,210.4375 Q526.3906,210.4375 526.625,210.7031 Q526.8594,210.9531 526.8594,211.5625 L526.8594,213.0156 Q526.8594,213.625 526.625,213.8906 Q526.3906,214.1563 526.0156,214.1563 Q525.6719,214.1563 525.4688,213.9531 Q525.2656,213.7656 525.1563,213.25 Q525.1094,212.8906 524.9219,212.7031 Q524.5938,212.3281 523.9844,212.1094 Q523.375,211.8906 522.75,211.8906 Q521.9844,211.8906 521.3438,212.2188 Q520.7188,212.5469 520.2188,213.2969 Q519.7344,214.0469 519.7344,215.0781 L519.7344,216.1719 Q519.7344,217.4063 520.625,218.2344 Q521.5156,219.0469 523.1094,219.0469 Q524.0469,219.0469 524.7031,218.7969 Q525.0938,218.6406 525.5156,218.2031 Q525.7813,217.9375 525.9219,217.8594 Q526.0781,217.7813 526.2813,217.7813 Q526.6094,217.7813 526.8594,218.0469 Q527.125,218.2969 527.125,218.6406 Q527.125,218.9844 526.7813,219.3906 Q526.2813,219.9688 525.4844,220.2969 Q524.4063,220.75 523.1094,220.75 Q521.5938,220.75 520.3906,220.125 Q519.4063,219.625 518.7188,218.5625 Q518.0313,217.4844 518.0313,216.2031 L518.0313,215.0469 Q518.0313,213.7188 518.6406,212.5781 Q519.2656,211.4219 520.3594,210.8125 Q521.4531,210.1875 522.6875,210.1875 Q523.4219,210.1875 524.0625,210.3594 Q524.7188,210.5156 525.2656,210.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="536.5" y="219.9102">V1Logic</text><line style="stroke:#A80036;stroke-width:1.5;" x1="508.5" x2="582.5" y1="231" y2="231"/><ellipse cx="518.5" cy="242" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="45" x="527.5" y="246.4189">actionA()</text><ellipse cx="518.5" cy="255.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="527.5" y="260.2549">actionB()</text><!--MD5=[210e10787dec2c59424631fb88a96eb2]
class IV2Logic--><rect codeLine="23" fill="#FEFECE" filter="url(#fdmy2ovt4f7xs)" height="67.6719" id="IV2Logic" style="stroke:#A80036;stroke-width:1.5;" width="81" x="226" y="356"/><ellipse cx="241" cy="372" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M241.9531,368.6406 L241.9531,375.2969 L243.6719,375.2969 Q244.2813,375.2969 244.5469,375.5313 Q244.8125,375.7656 244.8125,376.1563 Q244.8125,376.5313 244.5469,376.7656 Q244.2813,377 243.6719,377 L238.5313,377 Q237.9219,377 237.6563,376.7656 Q237.3906,376.5313 237.3906,376.1406 Q237.3906,375.7656 237.6563,375.5313 Q237.9219,375.2969 238.5313,375.2969 L240.25,375.2969 L240.25,368.6406 L238.5313,368.6406 Q237.9219,368.6406 237.6563,368.4063 Q237.3906,368.1719 237.3906,367.7813 Q237.3906,367.4063 237.6563,367.1719 Q237.9219,366.9375 238.5313,366.9375 L243.6719,366.9375 Q244.2813,366.9375 244.5469,367.1719 Q244.8125,367.4063 244.8125,367.7813 Q244.8125,368.1719 244.5469,368.4063 Q244.2813,368.6406 243.6719,368.6406 L241.9531,368.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49" x="255" y="376.9102">IV2Logic</text><line style="stroke:#A80036;stroke-width:1.5;" x1="227" x2="306" y1="388" y2="388"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="232" y="403.4189">actionC()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="232" y="417.2549">actionD()</text><!--MD5=[d364b3ef4f993ae241c602c8bf7cd1a3]
class V2Logic--><rect codeLine="27" fill="#FEFECE" filter="url(#fdmy2ovt4f7xs)" height="89.5078" id="V2Logic" style="stroke:#A80036;stroke-width:1.5;" width="126" x="203.5" y="188"/><ellipse cx="241" cy="204" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M243.7656,199.875 Q243.9219,199.6563 244.1094,199.5469 Q244.2969,199.4375 244.5156,199.4375 Q244.8906,199.4375 245.125,199.7031 Q245.3594,199.9531 245.3594,200.5625 L245.3594,202.0156 Q245.3594,202.625 245.125,202.8906 Q244.8906,203.1563 244.5156,203.1563 Q244.1719,203.1563 243.9688,202.9531 Q243.7656,202.7656 243.6563,202.25 Q243.6094,201.8906 243.4219,201.7031 Q243.0938,201.3281 242.4844,201.1094 Q241.875,200.8906 241.25,200.8906 Q240.4844,200.8906 239.8438,201.2188 Q239.2188,201.5469 238.7188,202.2969 Q238.2344,203.0469 238.2344,204.0781 L238.2344,205.1719 Q238.2344,206.4063 239.125,207.2344 Q240.0156,208.0469 241.6094,208.0469 Q242.5469,208.0469 243.2031,207.7969 Q243.5938,207.6406 244.0156,207.2031 Q244.2813,206.9375 244.4219,206.8594 Q244.5781,206.7813 244.7813,206.7813 Q245.1094,206.7813 245.3594,207.0469 Q245.625,207.2969 245.625,207.6406 Q245.625,207.9844 245.2813,208.3906 Q244.7813,208.9688 243.9844,209.2969 Q242.9063,209.75 241.6094,209.75 Q240.0938,209.75 238.8906,209.125 Q237.9063,208.625 237.2188,207.5625 Q236.5313,206.4844 236.5313,205.2031 L236.5313,204.0469 Q236.5313,202.7188 237.1406,201.5781 Q237.7656,200.4219 238.8594,199.8125 Q239.9531,199.1875 241.1875,199.1875 Q241.9219,199.1875 242.5625,199.3594 Q243.2188,199.5156 243.7656,199.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="260" y="208.9102">V2Logic</text><line style="stroke:#A80036;stroke-width:1.5;" x1="204.5" x2="328.5" y1="220" y2="220"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="211.5" y="228"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="100" x="223.5" y="235.4189">oldV1Logic: V1Logic</text><line style="stroke:#A80036;stroke-width:1.5;" x1="204.5" x2="328.5" y1="241.8359" y2="241.8359"/><ellipse cx="214.5" cy="252.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="223.5" y="257.2549">actionC()</text><ellipse cx="214.5" cy="266.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="223.5" y="271.0908">actionD()</text><!--MD5=[0ba5ee7700168656dc1b457c6fe9fdac]
entity Client--><ellipse cx="266.5" cy="14" fill="#FEFECE" filter="url(#fdmy2ovt4f7xs)" rx="8" ry="8" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="248.5" y="45.5332">Client</text><path d="M6,206.5 L6,249.2031 A0,0 0 0 0 6,249.2031 L147,249.2031 A0,0 0 0 0 147,249.2031 L147,231.8516 L207.5,230.918 L147,223.8516 L147,216.5 L137,206.5 L6,206.5 A0,0 0 0 0 6,206.5 " fill="#FBFB77" filter="url(#fdmy2ovt4f7xs)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M137,206.5 L137,216.5 L147,216.5 L137,206.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="12" y="224.9951">oldV1Logic.actionA()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="12" y="241.3467">oldV1Logic.actionB()</text><!--MD5=[46ec2ae8cc185fc3cdac2ec3016ae54f]
link V1Logic to CommonLogic--><path codeLine="35" d="M528.08,267.03 C517.73,285.27 503.69,307.84 488.5,326 C474.6,342.63 456.33,358.92 441.94,370.78 " fill="none" id="V1Logic-to-CommonLogic" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="437.99,374,447.4927,371.412,441.8649,370.84,442.4368,365.2122,437.99,374" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d2ebf525126bdd4d1bb58817c8976931]
link V1Logic to IV1Logic--><path codeLine="36" d="M546.79,267.25 C547.74,291.77 549.03,325.17 550.02,350.79 " fill="none" id="V1Logic-to-IV1Logic" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="550.21,355.8,553.8471,346.6473,550.0102,350.804,545.8535,346.9671,550.21,355.8" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="549.5" y="322.4951">implement</text><!--MD5=[934749e7920dfd25951293b4d27c9914]
link V2Logic to CommonLogic--><path codeLine="37" d="M309.65,278 C339.52,308.46 377.77,347.47 400.07,370.2 " fill="none" id="V2Logic-to-CommonLogic" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="403.77,373.98,400.3275,364.7524,400.2704,370.4089,394.6138,370.3518,403.77,373.98" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b31a53134626980b4285f93ba38cf7b5]
link V2Logic to IV2Logic--><path codeLine="38" d="M229.03,278.23 C223.05,287.53 217.77,297.67 214.5,308 C209.61,323.45 215.89,338.82 225.57,351.95 " fill="none" id="V2Logic-to-IV2Logic" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="228.68,355.95,226.3431,346.3824,225.6232,351.9933,220.0123,351.2733,228.68,355.95" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="215.5" y="322.4951">implement</text><!--MD5=[24dde7be4b2f2c91b425389241901640]
link V2Logic to IV1Logic--><path codeLine="39" d="M329.54,262.2 C377.98,284.72 446.07,318.24 506.58,355.49 " fill="none" id="V2Logic-to-IV1Logic" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="510.92,358.18,505.3759,350.0398,506.6696,355.5467,501.1627,356.8405,510.92,358.18" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="450.5" y="322.4951">implement</text><!--MD5=[5caab316c215afe41a18d98ebcd0d2a4]
link Client to V2Logic--><path codeLine="41" d="M266.5,23.24 C266.5,49.87 266.5,134.96 266.5,187.92 " fill="none" id="Client-V2Logic" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="267.5" y="88.4951">call API</text><!--MD5=[e1d3daa3a45c97cc38b94843393caa08]
link V2Logic$$$LEFT to V2Logic--><!--MD5=[12057e2440350db6fea738f95032da64]
@startuml api_versioning

' skinparam linetype ortho

hide empty members

circle Client

package Api {
    abstract class CommonLogic

    package v1 {
        interface IV1Logic {
            actionA()
            actionB()
        }
        class V1Logic{
            +actionA()
            +actionB()
        }
    }

    package v2 {
        interface IV2Logic {
            actionC()
            actionD()
        }
        class V2Logic {
            -oldV1Logic: V1Logic
            +actionC()
            +actionD()
        }
    }
}

V1Logic - -> CommonLogic
V1Logic ..> IV1Logic : implement
V2Logic - -> CommonLogic
V2Logic ..> IV2Logic : implement
V2Logic ..> IV1Logic : implement

Client - - V2Logic : call API

note left of V2Logic::oldV1Logic
    oldV1Logic.actionA()
    oldV1Logic.actionB()
endnote

' note as N1
' UML arrow specification
' <img:legends.svg>
' endnote

@enduml

@startuml api_versioning


hide empty members

circle Client

package Api {
    abstract class CommonLogic

    package v1 {
        interface IV1Logic {
            actionA()
            actionB()
        }
        class V1Logic{
            +actionA()
            +actionB()
        }
    }

    package v2 {
        interface IV2Logic {
            actionC()
            actionD()
        }
        class V2Logic {
            -oldV1Logic: V1Logic
            +actionC()
            +actionD()
        }
    }
}

V1Logic - -> CommonLogic
V1Logic ..> IV1Logic : implement
V2Logic - -> CommonLogic
V2Logic ..> IV2Logic : implement
V2Logic ..> IV1Logic : implement

Client - - V2Logic : call API

note left of V2Logic::oldV1Logic
    oldV1Logic.actionA()
    oldV1Logic.actionB()
endnote


@enduml

PlantUML version 1.2021.5(Sun Apr 25 07:20:28 EDT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>